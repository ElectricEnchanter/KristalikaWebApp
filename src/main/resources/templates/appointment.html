<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Записаться</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="shortcut icon" href="https://i.ibb.co/23wtJmm/icon-black.png" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">


</head>

<body>


<header th:insert="~{blocks/header :: header}"></header>

<p th:text="|Hello, ${title}!|"/>

<div class="container mt-5">
    <h1>Записаться к нам</h1>
    <form action="/appointment" method="post">
    <input type="text" name="datepick" class="date" placeholder="Выберите дату">

    <select name="masterpick">
        <option value=1>Татьяна</option>
        <option value=2>Данил</option>
    </select>


    <button type="submit" class="btn btn-success">Найти записи</button>
    </form>

    <h2>Выберите время</h2>

    <div th:each="el : ${appointment}" class="alert alert-info mt-2">
        <h3 th:text="${el.date}"/>
        <p th:text="${el.time}"/>
        <p th:text="${el.id}"/>
        <a th:href="'/appointment/' + ${el.id} + '/success'" class="btn btn-warning">Записаться</a>
    </div>
</div>


<div th:insert="~{blocks/foooter :: footer}"></div>


<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>

    flatpickr(".date", {
        altInput: true,
        altFormat: "d.m.y",
        dateFormat: "d.m.y",
        minDate: "today",
        maxDate: new Date().fp_incr(14),
        locale: {
            firstDayOfWeek: 1,
            weekdays: {
                shorthand: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
                longhand: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],
            },
            months: {
                shorthand: ['Янв', 'Фев', 'Март', 'Апр', 'Май', 'Июнь', 'Июль', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек'],
                longhand: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],
            },
        },

    } );
</script>

</body>
</html>